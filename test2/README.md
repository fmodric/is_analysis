#实验2:图书管理系统用例建模

|    学号   |       班级       |      姓名     |
|:-------:|:------------- | ----------:|
|   201510414106  |     软工1班     |   费浩然   |

###1.图书管理系统用例关系图
####1.1PlantUML源码如下：
````
@startuml
left to right direction
skinparam handwritten true
skinparam usecase {
	BackgroundColor SkyBlue
	BorderColor DarkSlateGray
}
图书管理员 as gly
借阅者 as jyz
游客 as yk
yk <|-- jyz
rectangle 系统 {
  yk-->(图书查询)
  jyz-->(预定图书)
  jyz-->(取消预定)
  jyz-->(查询借阅情况)
  gly-->(借出图书)
  gly-->(归还图书)
  gly-->(维护书目)
  gly-->(维护读者信息)

  (预定图书).>(图书查询):include
  (取消预定).>(预定图书):include
  (登记罚款).>(归还图书):extends
}left to right direction
skinparam handwritten true
skinparam usecase {
	BackgroundColor SkyBlue
	BorderColor DarkSlateGray
}
图书管理员 as gly
借阅者 as jyz
游客 as yk
yk <|-- jyz
rectangle 系统 {
  yk-->(图书查询)
  jyz-->(预定图书)
  jyz-->(取消预定)
  jyz-->(查询借阅情况)
  gly-->(借出图书)
  gly-->(归还图书)
  gly-->(维护书目)
  gly-->(维护读者信息)

  (预定图书).>(图书查询):include
  (取消预定).>(预定图书):include
  (登记罚款).>(归还图书):extends
}
@enduml
````

####1.2用例关系图如下如下：

![](./费浩然用例图.png '描述')


###2.参与者说明

####2.1超级管理员

主要职责是：维护图书管理员的身份信息，并拥有图书管理员所有功能。

####2.2图书管理员：

主要职责是：维护图书，读者信息，负责图书的借还。

####2.3读者

主要职责是：查询图书，借阅信息，具有预订和取消预订图书功能。

####2.4游客

主要职责是：只具有查询图书的功能。

###3.用例的规约表

####3.1“查询借阅信息”用例

####3.1.1“查询借阅信息”用例规约
|            用例名称           |          查询借书情况         | 
|:-----------------------------:|:-----------------------------|
|             参与者            |              读者            |
|:-----------------------------:|:-----------------------------|
|            前置条件           |            登录到系统         |
|:-----------------------------:|:-----------------------------|
|            后置条件           |         查询到读者信息        |
|:-----------------------------:|:-----------------------------|
|            主事件流           |      1.输入书名  2.查询数据库 3.显示书籍信息     |
|:-----------------------------:|:-----------------------------|
|           参与者动作          |             系统行为          | 
|:-----------------------------:|:-----------------------------|
|           备选事件流          |                               |
|:-----------------------------:|:-----------------------------|



####3.1.2“查询借阅信息”用例流程图源码如下
````
@startuml
|借阅者|
start
:输入书名;
|借阅者|
|#AntiqueWhite|系统|
:查询数据库;
if(是否有该书籍？)then(没有)
    :返回错误信息;
else(有)
    :显示书籍信息;
endif
stop
|系统|
@enduml

````
####3.1.3“查询借阅信息”用例流程图如下
![](./费浩然查询图.png '描述')

###3.2“预定图书”用例

####3.2.1用例规约
|            用例名称           |          查询借书情况         | 
|:-----------------------------:|:-----------------------------|
|             参与者            |             借读者            |
|:-----------------------------:|:-----------------------------|
|            前置条件           |            登录到系统         |
|:-----------------------------:|:-----------------------------|
|            后置条件           |            预定书籍           |
|:-----------------------------:|:-----------------------------|
|            主事件流           |      1.输入书名  2.查询数据库 3.显示书籍信息 4.显示预定成功 5.修改书籍状态    |
|:-----------------------------:|:-----------------------------|

####3.2.2流程图源码
````
@startuml
|借阅者|
start
:登陆账号;
if(成功?)then(否)
    :结束;
    stop
else(是)
    :输入书名;
    |借阅者|
    |#AntiqueWhite|系统|
    :查询库存;
    if(库存是否大于1？)then(否)
        :返回错误信息;
    else(有)
        :书籍库存减一;
        :预定成功;
    endif
    stop
    |系统|
@enduml
````
####3.2.3流程图

![](./费浩然预定图.png '描述')


###3.3书借出用例

####3.3.1用例规约
|            用例名称           |          查询借书情况         | 
|:-----------------------------:|:-----------------------------|
|             参与者            |          借读者、图书管理员            |
|:-----------------------------:|:-----------------------------|
|            前置条件           |            用户被授权         |
|:-----------------------------:|:-----------------------------|
|            后置条件           |            书籍出借，数据库状态减1          |
|:-----------------------------:|:-----------------------------|
|            主事件流           |      1.输入书名  2.验证读者身份 3.验证借阅条件 4.显示借阅成功 5.修改书籍状态    |
|:-----------------------------:|:-----------------------------|

####3.3.2流程图源码
````
@startuml
|管理员|
:输入读者借书卡;
|管理员|
|#AntiqueWhite|系统|
if(读者身份和借书条件是否满足要求?)then(否)
    :显示告警信息;
    stop
else(是)
    while(全部图书登记完毕？)
    :输入所借图书;
    :记录借书信息;
    :修改图书状态;
    :修改库存数量;
    :累加读者借书数量;
    endwhile
    :打印借书单;
    stop
endif
|系统|
@enduml
````

####3.3.3流程图

![](./费浩然借出图.png '描述')


###3.4书归还用例

####3.4.1用例规约
|            用例名称           |          查询借书情况         | 
|:-----------------------------:|:-----------------------------|
|             参与者            |             借读者、图书管理员            |
|:-----------------------------:|:-----------------------------|
|            前置条件           |            用户被授权         |
|:-----------------------------:|:-----------------------------|
|            后置条件           |            修改图书状态，删除此次借书记录           |
|:-----------------------------:|:-----------------------------|
|            主事件流           |      1.输入书名  2.验证图书信息 3.显示借阅者信息 4.显示归还成功 5.修改书籍状态    |
|:-----------------------------:|:-----------------------------|

####3.4.2流程图源码
````
@startuml
|管理员|
start
:输入书名;
|管理员|
|#AntiqueWhite|系统|
:根据借书记录验证图书信息;
:显示借阅该书的读者信息;
:修改借书记录;
:更新书籍状态;
:增加库存;
stop
|#AntiqueWhite|系统|
@endum
````
####3.4.3流程图

![](./费浩然归还图.png '描述')
